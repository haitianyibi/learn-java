[TOC]

# java简介

c语言、c++语言都是编译成二进制文件，由计算机直接执行，称编译型语言。python、ruby等解释型语言由解释器直接加载源码然后运行，而java将源码编译成.class字节码，类似于抽象的CPU指令，针对不同平台编写虚拟机，虚拟机加载字节码并执行，形成一次编写处处运行的效果。

java EE \java SE\java ME即企业版、标准版、micro版

JSR规范\JCP组织\RI参考现实\TCK兼容性测试套件

IDE是集成开发环境：Integrated Development Environment

## 一、java环境设置

### 1.下载安装JavaJDK

<https://www.oracle.com/technetwork/java/javase/downloads/jdk13-downloads-5672538.html>

jdk是开发工具

jre仅是运行环境

### 2.设置环境变量

JAVA_HOME指向JDK安装目录

classpath指向默认字节码位置，当前位置"."

PATH指向JDK安装目录下的bin目录%JAVA_HOME%\bin;

bin目录下的工具:

* java：即 JVM
* javac：java编译器将.java源文件转化为.class字节码文件
* jar：用于把一类的.class文件打包成一个.jar文件
* jdb：java调试器，用于开发阶段的运行调试

### 3.第一个java程序

```java
public class Hello {
    public static void main(String[] args) {
        System.out.println("Hello, world!");
    }
}
```

一个公开的类叫hello,大小敏感，{}里是类的定义，一个公开的静态方法叫main，()里为方法参数，参数类型String[],参数名args，返回类型为void即空，每行代码；分号结束System类的.out方法的.println方法传入参数“hello，world!”。

一个java源码只能定义一个public类型的class,并且class名要和文件名完全一致。


java文件中有多个类，且没有public类，那么文件名任意，编译的.class文件也对应有多个（JDK8）


main方法是java程序的入口，总是从main方法开始执行代码。

java缩进不是必须的

保存文件名必须和public类名相同，大小写敏感，文件类型.java

```javac  类名.java```

编译，在当前文件夹下生成.class文件

```java 类名```

运行，不需要文件类型后缀

或直接

```java 类名.java```

JVM会自动编译并运行文件

这是Java 11新增的一个功能，它可以直接运行一个单文件源码！

需要注意的是，在实际项目中，单个不依赖第三方库的Java源码是非常罕见的，所以，绝大多数情况下，我们无法直接运行一个Java源码文件，原因是它需要依赖其他的库。

![image-20200103212014828](Java.assets/image-20200103212014828.png)

[出现编码GBK不可映射字符](https://jingyan.baidu.com/article/e3c78d649a56233c4c85f502.html)

因为代码中含有中文，包括注释，系统默认编码格式GBK，中文字符代码格式UNICODE，

notepad++编译器具有自动转码功能。

为文件指定编码格式

javac -encoding UTF-8 类名.java

[出现需要class,interface、enum](https://blog.csdn.net/a66731167/article/details/81286537)

![image-20200103212127750](Java.assets/image-20200103212127750.png)

重新保存文件，编码格式改为ANSI



##  二、Java基础

### 1.Java的注释

* 单行注释

//

* 多行注释

/*



*/

* JavaDoc注释方式（以/**开头,写在类和方法定义处，用于自动创建文档）

/**

*

*

*/

### 2.标识符

用户可以起名的标识，如类名，变量名， 区分大小写。英文字母、$美元符号、_下划线开头，加上数字可以作为标识符的元素，但是数字不能作为标识符开头。

java关键字保留即不能用作标识符，类名使用驼峰式写法，方法名使用小驼峰式写法、

必须先声明变量后使用，

四种变量

1.实例变量(非静态字段)

实例变量的值对于每一个实例都是唯一的。

2.类变量(静态字段)

无论实例化多少次，都存在一个副本应用于所有对象。，添加final修饰符将无法修改。

3.局部变量

变量位于方法体的左大括号和右大括号之间，仅对于声明他们的方法可见。

4.参数

方法的小括号之间。*参数*是指方法声明中的变量列表

### 3.关键字

Java使用关键字标识功能，产生语法语义。  关键字不做变量名、类名。

### 4.字面值（常量）

类似c语言中的字符常量。  1、a、屏幕、3.14。

定义变量时使用final修饰符，编译器就将该变量看做常量，后面尝试修改此常量值编译器会报错

常量名习惯全部大写。

### 5.变量

变量本质上是内存的一块空间。变量包含数据类型、名称、字面值。  

所有变量必须具有类型。

java变量分两种，基本类型变量+引用类型变量

要求首字母小写，后面每个字母首字母大写  (小驼峰写法)

变量的类型决定了变量可能的取值范围和可能执行的操作。

编译器会赋初值，但是不会为局部变量赋初始值。

变量声明：int a;int b,c;  

变量同时声明和赋值:int a=1;

字面值的数据类型要和变量的数据类型一致。  

变量的值可以修改多次。而变量的空间大小的不变的，空间位置改变，即修改了引用的指针。  

 变量需要赋值才能使用，声明变量本质只是生成了引用标签，空间未申请，赋值后才实际申请了空间。

变量作用域最小化{}，减少重名变量。

给变量赋值时jvm给新值一个空间并将变量标签重新指向新变量空间，不是将旧变量空间替换值。

### 6.数据类型

如int、short、float、char、String。  

不同数据类型可以指示编译器申请空间和限制变量的类型。  

原始数据类型int 、short、 char、long、float、double、String、boolean、byte、

基本数据类型是CPU可以直接进行运算的类型：

* 整数型byte、short、int、long
* 浮点类型float、double
* 字符类型char
* 布尔类型boolean

`_`数字文字中数字之间的任何位置都可以出现任意数量的下划线字符。

枚举类型

数据类型的自动转换与强制转换

### 7.运算符的优先级

后缀：a++、a--

一元元算符：++a、--a、+a、-a、~取反、！非

乘法：*、/、%

加法：+、-

移位：<<、>>、>>>

关系：<、>、<=、>=、instanceof

相等：==、！=

按位与：&

按位异或：^

按位或：|

逻辑与：&&

逻辑或：||

三元：表达式?表达式1:表达式2

分配：=、+=、-=、*=、/=、%=、&=、^=、|=、<<=、>>=、>>>=

### 8.表达式

由变量、运算符和方法的调用，计算结果为单值。

语句：表达式语句、赋值语句、增量语句、方法调用语句、对象创建语句、声明语句、控制流语句。

## 三、java初级

### 1.类

class

类主体用{}括起即类的定义，类变量、实例变量、方法、构造函数

大驼峰写法

构造函数，类似方法声明，但必须使用本类名且无返回类型

构造函数可以有多个，但是参数列表（参数的数量和类型）不能相同，

编译器会自动为没有构造函数的类提供无参的默认构造函数，默认构造函数将调用超类的无参构造函数，若超类没有无参构造函数编译器将报错，

构造函数可以使用访问修饰符

构造方法重载

方法首字母为动词，小驼峰写法。有返回类型

调用方法overload时，使用的参数必须在类型和顺序上与声明的参数匹配。

方法重载，区别方法的不同不依靠方法名，依靠参数（参数个数、类型、顺序），在同一类中，功能相似时方法名可以相同，功能不同时方法名尽可能不同。方法不能重复。方法重载和方法名和参数有关，和返回类型、修饰符无关。

可以使用任何数据类型作为方法和构造函数的参数，包括原始数据类型和引用数据类型（数组，对象）。参数数量可以无限，当不确定使用多少参数时可以使用*varargs*的构造方式，在最后的参数类型上加上...三个点和参数名，就可以使用该参数0个到无限个。方法内部将该参数视为数组，用数组下标调用传入的参数。

方法返回到调用它时的代码

- 完成方法中的所有语句，
- 达到`return`声明，或
- 引发异常（稍后会发现），

以先发生者为准。

如果尝试从声明的方法返回值`void`，则会出现编译器错误。

返回值的数据类型必须与方法声明的返回类型相匹配

java是面向对象的语言，一个程序的基本单位是class

在类的内部可以定义若干方法

### 2.对象

new操作会调用类的构造函数，且构造函数不能像其他方法调用，只能使用new关键词。

声明**Declaration**=类型+变量名/对象名

实例化**Instantiation**=new +类，新建对象。调用无参构造函数

初始化**Initialization**=new +类（值），赋初值，调用含参构造函数

使用对象引用来调用对象的方法

new返回的值来访问新对象的字段，随即丢失新对象的引用，int a =new 类名.字段；也可以访问引用对象的方法

对象引用来调用对象的方法 类名.方法名(参数列表)；



### 3.继承

extends

一个子类只能继承一个父类（超类），父类可以有很多子类。

### 4.接口

implements实现

interface接口

一个类可以实现多个接口。

### 5.修饰符-访问控制

public可以从所有类直接访问该字段。

private字段只能在本类中直接访问，父类、子类、其它同包或不同包的类都不能直接访问。可以通过公用方法间接访问。

final

### 6.垃圾回收机制

内存自动管理

### 7.this关键字

`this`是对*当前对象*的引用，可用在当前对象将被调用其方法或构造函数

### 8.泛型

### 9.var关键字

省略变量类型使用var代替，编译器会在后期替换回原来变量类型

```
StringBuilder sb = new StringBuilder();
```

```
var sb = new StringBuilder();
```

### 10.字符串连接

```java
    public static void main(String[] args) {
        String s1 = "Hello";
        String s2 = "world";
        String s = s1 + " " + s2 + "!";
        System.out.println(s);
    }
}
```

会将其他数据类型先自动转型为字符串



```
javac --source 13 --enable-preview Main.java
```